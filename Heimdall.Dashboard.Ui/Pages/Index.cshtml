@page "/"
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@namespace Heimdall.Dashboard.Ui.Pages
@model IndexModel
@{
    Layout = "_Layout";
    ViewBag.Title = "Heimdall";
}

@section VueComponents {
    <partial name="Buttons/Deployments"/>
    <partial name="Buttons/Pods"/>
    <partial name="Buttons/Services"/>
    <partial name="Buttons/Ingress"/>
    <partial name="Components/VueTable"/>
    <partial name="Components/MultiSelect"/>
    <partial name="Components/SearchInput"/>
    <partial name="Components/NavBar"/>
    <partial name="Components/MainMenu"/>
    <partial name="Components/Spinner"/>
    <partial name="Views/Cluster"/>
    <partial name="Views/Workloads"/>
    <partial name="Views/Pods"/>
    <partial name="Views/Services"/>
    <partial name="Views/Ingresses"/>
}

@section Scripts
{
    <script src="~/js/cluster-graphs.js" asp-append-version="true"></script>
}

<nav-bar @@select-ns="(n) => namespaces = n" @@filters="(f) => filters = f" @@search="(s) => search = s"></nav-bar>

<div class="grid grid-cols-[85px_1fr] gap-2 h-screen">
    <main-menu></main-menu>
    
    <main class="overflow-auto">
        <router-view :namespaces="namespaces" :search="search" :filters="filters"></router-view>
    </main>
</div>
