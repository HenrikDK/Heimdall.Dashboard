<template id="ingresses">
    <div class="pl-2 pr-4 w-100">
        <div class="flex my-2 items-center">
            <span class="text-gray-500 dark:text-gray-300 text-2xl font-light sans">Ingresses</span>
        </div>
    
        <vuetable :columns="columns" :initial-sort="sorting" :data="data" :namespaces="namespaces" :search="search"></vuetable>
      
    </div>
</template>

<script type="module">
    components["ingresses"] = {
        template: "#ingresses",
        data() {
            return {
                data: [
                    {name: "user-api", namespace:"petstore", class:"nginx", hosts:"https://user-api.petstore.dk", address:"192.1.0.1", age: "22d"},
                    {name: "store-api", namespace:"petstore", class:"nginx", hosts:"https://store-api.petstore.dk", address:"192.2.0.1", age: "10d"},
                    {name: "order-api", namespace:"petstore", class:"nginx", hosts:"https://order-api.petstore.dk", address:"192.3.0.1", age: "13d"},
                ],                
                sorting:[
                    {header:'Name', sort:'desc'}
                ],
                columns:[
                    { name: 'name', header: 'Name', classes:'w-64', canSort: true },
                    { name: 'namespace', header: 'Namespace', classes:'w-64', canSort: true},
                    { name: 'class', header: 'Type', classes:'w-40', canSort: false },
                    { name: 'address', header: 'LoadBalancers', classes:'w-40', canSort: true },
                    { name: 'hosts', header: 'Host', classes:'grow shrink', canSort: true },
                    { name: 'age', header: 'Age', classes:'w-40', canSort: false }
                ],
                clusterIngresses: null,
            }
        },
        props: ['namespaces', 'search', 'filters'],        
        mounted() {
          var host = window.location.origin;
          streamResults(host + '/k8s/apis/networking.k8s.io/v1/ingresses', j => this.clusterIngresses = j)
        },
    };

    routes.push({path:'/ingresses', name:'ingresses', component: components["ingresses"]})    
</script>
